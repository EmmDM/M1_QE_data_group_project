---
title: "Data Group Project"
author: "Victoire Truchon Bartes & Emmanuel de MOREL"
format: html
---

Here the link to the github project : https://github.com/EmmDM/M1_QE_data_group_project

Here the links to the original sources : 
For the OECD : 
https://stats.oecd.org/index.aspx?lang=fr&datasetcode=green_growth

And for the World Bank : https://donnees.banquemondiale.org/theme/changement-climatique

```{r}
#Description des sources
```

```{r}
#Description de la question de recherche
```


```{r}
#Séléction des librairies
library(here)
library(dplyr)
library(tidyr)
library(knitr)
library(ggplot2)
library(readr)
library(stringr)
library(readxl)
```


```{r}
here :: i_am("M1_QE_data_group_project.Rproj")
OCDE_GG <-read.csv(here("OCDE_GREEN_GROWTH.csv" ), sep = ";")
Worldbank <- read_xls("Worldbank.xls")

#Nettoyage base de données OCDE

OCDE_GG <- OCDE_GG %>% select(-`YEA`,-`PowerCode.Code`, -`Reference.Period.Code`,-`Reference.Period`, -`Unit.Code`)
OCDE_GG <- OCDE_GG %>% pivot_wider(names_from= `Année`, values_from =  `Value`)
OCDE_GG <- OCDE_GG %>% select(-`2021`, -`2022`) #On supprime les données 2021 et 2022 car il y a un manque de données

#Nettoyage base de données World Bank

Worldbank <- Worldbank %>% select(-`1960`,-`1961`,-`1962`,-`1963`,-`1964`,-`1965`,-`1966`,-`1967`,-`1968`,-`1969`,-`1970`,-`1971`,-`1972`,-`1973`,-`1974`,-`1975`,-`1976`,-`1977`,-`1978`,-`1979`,-`1980`,-`1981`,-`1982`,-`1983`,-`1984`,-`1985`,-`1986`,-`1987`,-`1988`,-`1989`,-`2021`, -`2022`) #On conserve seulement période de 1990 à 2020 afin de faire des comparaisons avec les données de l'OCDE. On supprime les données 2021 et 2022 car il y a un manque de données

```

```{r}
# Un tableau par fichier de données qui donne des informations basiques sur ce fichier, en incluant le nombre de lignes et de colonnes (description of Raw data file or clean data file ?)
```

```{r} 
# Tri des variables base de données OCDE 


# Tri des variables base de données World bank
```

```{r}
# Description des variables séléctionnées
```

```{r}
# On cherche si certains pays n'apparaissent pas dans l'une des bases de données. J'utilise les codes pays pour vérifier

codes_pays_OCDE <- OCDE_GG %>% select(`COU`, `Pays`) %>% distinct(COU,.keep_all = TRUE)

codes_pays_Worldbank <- Worldbank %>% select(`Country Code`, `Country Name`) %>% distinct (`Country Code`, .keep_all = TRUE)

#codes_pays_manquants_OCDE <- anti_join(codes_pays_OCDE,codes_pays_Worldbank, by = c("COU" = "Country Code"))
#codes_pays_manquants_Worldbank <- anti_join(codes_pays_Worldbank,codes_pays_OCDE, by = c("Country Code" = "COU" ))

#Afin d'avoir les mêmes pays, on supprime ensuite les pays manquants des bases de données origniales

#Worldbank <- anti_join(Worldbank,codes_pays_manquants_Worldbank, by = ("Country Code"))
#OCDE_GG <- anti_join(OCDE_GG,codes_pays_manquants_OCDE, by = ("COU"))

#Je compte le nombre de pays dans chaque base de données
#OCDE_count_ry <- OCDE_GG %>% distinct(COU) %>% summarize(`COU` = n())
#WB_count_ry <- Worldbank %>% distinct(`Country Code`) %>% summarize(`Country Code` = n())
# Il y a 206 pays dans chacune des bases 



```

```{r}

#fusion des bases de données OCDE_GG et Worldbank
#Je renomme les colonnes qui ont la même fonction mais des noms différents 
#Worldbank <- Worldbank %>% rename ("COU" = "Country Code", "Pays" = "Country Name", "VAR" = "Indicator Code" ,  "Variable" = "Indicator Name") 


#dataframe <- merge(OCDE_GG, Worldbank, by = c("COU","VAR","Variable","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"), all = TRUE)

#Problème certain pays apparaissent plusieurs fois car pas le même nom, exemple = Turquie, Türkiye

```

```{r}
# Liste des pays membres de l'OCDE
	#Allemagne,	Australie,Autriche,Belgique,Canada,Chili,Colombie,Corée,Costa Rica,Danemark,Espagne,Estonie,États-Unis,Finlande,France,Grèce,Hongrie,Irlande,Islande,Israël,Italie,Japon,Lettonie,Lituanie,Luxembourg,Mexique,Norvège,Nouvelle-Zélande,Pays-Bas,Pologne,Portugal,République slovaque,Tchéquie,Royaume-Uni,Slovénie,Suède,Suisse,Türkiye	

 
 
```


```{r}
# Description du data cleaning et du data joining
```

